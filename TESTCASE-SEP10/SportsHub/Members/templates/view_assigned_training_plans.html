<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>View Assigned Training Plans</title>
</head>
<body>
    <h1>Assigned Training Plans</h1>

    <ul>
        {% for assignment in assignments %}
            <li>
                <strong>Plan Name: {{ assignment.plan.plan_name }}</strong><br>
                <p>Assigned by: {{ assignment.assigned_by.user.username }}</p>
                <p>Assigned Date: {{ assignment.assigned_date }}</p>
                <p>Status: {% if assignment.is_accepted %}Accepted{% else %}Pending{% endif %}</p>
                
                {% if not assignment.is_accepted %}
                    <form method="post" action="{% url 'Members:accept_training_plan' user_id=fitness_user.user.id %}">
                        {% csrf_token %}
                        <input type="hidden" name="assignment_id" value="{{ assignment.id }}">
                        <button type="submit">Accept</button>
                    </form>

                    <form method="post" action="{% url 'Members:reject_training_plan' user_id=fitness_user.user.id %}">
                        {% csrf_token %}
                        <input type="hidden" name="assignment_id" value="{{ assignment.id }}">
                        <button type="submit">Reject</button>
                    </form>
                {% endif %}
            </li>
        {% endfor %}
    </ul>
</body>
</html>

