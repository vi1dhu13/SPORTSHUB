{% load static %}
{% load socialaccount %}
<!DOCTYPE html>
<html>

<head>
   <meta charset="utf-8"> 
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <title></title>
   <meta name="description" content="">
   <meta name="viewport" content="width=device-width, initial-scale=1">
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
      crossorigin="anonymous"></script>

   <style>
      .soul-logo { 
         mix-blend-mode: color-burn;
      }

      .placform::placeholder {
         position: absolute;
         left: 10px;
      }


      label {
         font-weight: bold;
      }
   </style>

   <script>
    function validateEmail(input) {
       var email = input.value;
       var emailValidation = document.getElementById("emailValidation");
 
       var emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/;
       if (!emailPattern.test(email)) {
          input.setCustomValidity("Please enter a valid email address.");
          emailValidation.style.display = "block";
       } else {
          input.setCustomValidity("");
          emailValidation.style.display = "none";
       }
    }
 
    function validatePassword(input) {
       var password = input.value;
       var passwordValidation = document.getElementById("passwordValidation");
 
       var uppercasePattern = /[A-Z]/;
       var lowercasePattern = /[a-z]/;
       var numberPattern = /[0-9]/;
       var specialPattern = /[!@#$%^&*()_+{}\[\]:;<>,.?~\\\-]/;
 
       var validUppercase = uppercasePattern.test(password);
       var validLowercase = lowercasePattern.test(password);
       var validNumber = numberPattern.test(password);
       var validSpecial = specialPattern.test(password);
 
       if (validUppercase && validLowercase && validNumber && validSpecial) {
          input.setCustomValidity("");
          passwordValidation.style.display = "none";
       } else {
          input.setCustomValidity("Password must contain at least one uppercase letter, one lowercase letter, one number, and one special character.");
          passwordValidation.style.display = "block";
       }
    }
 
    function validateConfirmPassword(input) {
       var confirmPassword = input.value;
       var password = document.getElementById("form2Example27").value;
       var confirmPasswordValidation = document.getElementById("confirmPasswordValidation");
 
       if (confirmPassword !== password) {
          input.setCustomValidity("Passwords do not match.");
          confirmPasswordValidation.style.display = "block";
       } else {
          input.setCustomValidity("");
          confirmPasswordValidation.style.display = "none";
       }
    }
 
    function validateUsername(input) {
       var username = input.value;
       var usernameValidation = document.getElementById("usernameValidation");
 
       var usernamePattern = /^[a-zA-Z0-9]+$/;
       if (!usernamePattern.test(username)) {
          input.setCustomValidity("Username should contain only letters and numbers.");
          usernameValidation.style.display = "block";
       } else {
          input.setCustomValidity("");
          usernameValidation.style.display = "none";
       }
    }
    function validateUsername(input) {
        var username = input.value;
        var usernameValidation = document.getElementById("usernameValidation");
  
        var usernamePattern = /^[a-zA-Z0-9]+$/;
        if (!usernamePattern.test(username)) {
           input.setCustomValidity("Username should contain only letters and numbers.");
           usernameValidation.style.display = "block";
        } else {
           input.setCustomValidity("");
           usernameValidation.style.display = "none";
        }
     }
 </script>
 
 

</head>

        <!-- ... (rest of your content) ... -->
 


<body class="vh-100 ">
   <!--[if lt IE 7]>
         <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
      <![endif]-->
      <section class="vh-100" style="background: linear-gradient(to bottom, rgba(44, 48, 37, 0.63), rgba(80, 87, 81, 0.719)), url('/static/images/bg_1.jpg') no-repeat center center / cover; background-color: #38373d;">
     
           <div class="container py-5 h-100">
         <div class="row row-cols-1 row-cols-md-2 d-flex justify-content-center align-items-center h-100">
            <div class="col">
               <div class="d-flex align-items-center justify-content-center mb-3 pb-1">
                {% comment %} <img class="soul-logo" src="{% static 'img/s1.png' %}"> {% endcomment %}

               </div> 
               <h5 class="fw-normal mb-3 pb-3 text-center text-dark  opacity-100" style="letter-spacing: 1px;">Your
                  sanctuary for soulful healing and wellness</h5>

            </div>
            <div class="col">
               <div class="card"
                  style="border-radius: 1rem; background: linear-gradient(to bottom, rgb(195, 191, 191), rgba(0, 0, 0, 0.294));">
                  <div class="card-body p-4 p-lg-5 text-black">
                     <h2 class="fw-normal mb-3 pb-3 text-center "
                        style="letter-spacing: 1px; font-weight:bold; color:#858383;">Login</h2>
                        <form method="POST">
                        {% csrf_token %}
                      
                        
                            <label class="form-label" for="form2Example17">Username</label>
                            <div class="form-outline mb-3">
                                <div class="d-flex align-items-center position-relative">
                                    <input type="text" id="form2Example17" name="uname" class="form-control form-control-lg placform" placeholder="Enter username"
                                           oninput="validateUsername(this)">
                                </div>
                                <div id="usernameValidation" class="invalid-feedback">
                                    Username should contain only letters and numbers.
                                </div>
                            </div>
                        
                        
                        
                        
                        <label class="form-label" for="form2Example18">Email</label>
                        <div class="form-outline mb-3">
                            <div class="d-flex align-items-center position-relative">
                                <input type="email" id="email" name="email" class="form-control form-control-lg placform" placeholder="Enter Email"
                                       oninput="validateEmail(this)">
                            </div>
                            <div id="emailValidation" class="invalid-feedback">
                                Please enter a valid email address.
                            </div>
                        </div>
                        
                        <div class="form-outline mb-1">
                            <label class="form-label" for="form2Example27">Password</label>
                            <input type="password" id="form2Example27" name="pass" class="form-control form-control-lg " placeholder="ENTER PASSWORD"
                                   oninput="validatePassword(this)">
                            <div id="passwordValidation" class="invalid-feedback">
                                Password must contain at least one uppercase letter, one lowercase letter, one number, and one special character.
                            </div>
                        </div>
                        <div class="form-outline mb-1">
                            <label class="form-label" for="form2Example27">Confirm Password</label>
                            <input type="password" id="form2Example28" name="cpass" class="form-control form-control-lg " placeholder="CONFIRM PASSWORD"
                                   oninput="validateConfirmPassword(this)">
                            <div id="confirmPasswordValidation" class="invalid-feedback">
                                Passwords do not match.
                            </div>
                        </div>
                        
                        <p style="color: #000000;"><a class="small text-muted" href="{% url 'reset_password' %}">Forgot password?</a></p>
                        <div class="d-flex justify-content-center mt-md-3">
                           <button class="btn btn-dark btn-lg w-50" type="submit">register</button>
                        </div>
                        {% if error_message %}
                        <div class="d-flex justify-content-center"><p class="text-danger mt-2 fs-3">{{error_message}}</p></div>
                        {% endif %}
                        <p class="mb-1 mt-1 pb-lg-2 text-center" style="color: #0e2b7a;">Already have account? <a href="{% url 'users:login' %}" style="color: #0e2b7a;">LOGIN HERE</a></p>
                        <hr>
                        <h6 class="text-center"> Or login with</h6>
                        <br>
                        <div class="pt-1 mb-4">
                           <a href="{% provider_login_url 'google' %}?next=/">
                           <button class="btn btn-dark btn-lg btn-block w-100" type="button">
                              <i class="fab fa-google"></i> Sign in with Google
                           </button>
                        </a>
                        </div>
                     </form>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </section>
   </body>

</html>