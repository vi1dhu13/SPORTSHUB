{% load static %}
{% load socialaccount %}
<!DOCTYPE html>
<html>

<head>
   <meta charset="utf-8"> 
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <title></title>
   <meta name="description" content="">
   <meta name="viewport" content="width=device-width, initial-scale=1">
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
      crossorigin="anonymous"></script>

   <style>
      .soul-logo { 
         mix-blend-mode: color-burn;
      }

      .placform::placeholder {
         position: absolute;
         left: 10px;
      }


      label {
         font-weight: bold;
      }
   </style>
</head>

        <!-- ... (rest of your content) ... -->
 


<body class="vh-100 ">
   <!--[if lt IE 7]>
         <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="#">upgrade your browser</a> to improve your experience.</p>
      <![endif]-->
      <section class="vh-100" style="background: linear-gradient(to bottom, rgba(44, 48, 37, 0.63), rgba(80, 87, 81, 0.719)), url('/static/images/bg_1.jpg') no-repeat center center / cover; background-color: #38373d;">
     
           <div class="container py-5 h-100">
         <div class="row row-cols-1 row-cols-md-2 d-flex justify-content-center align-items-center h-100">
            <div class="col">
               <div class="d-flex align-items-center justify-content-center mb-3 pb-1">
                {% comment %} <img class="soul-logo" src="{% static 'img/s1.png' %}"> {% endcomment %}

               </div> 
               <h5 class="fw-normal mb-3 pb-3 text-center text-dark  opacity-100" style="letter-spacing: 1px;">Your
                  sanctuary for soulful healing and wellness</h5>

            </div>
            <div class="col">
               <div class="card"
                  style="border-radius: 1rem; background: linear-gradient(to bottom, rgb(170, 189, 155), rgba(171, 175, 167, 0.294));">
                  <div class="card-body p-4 p-lg-5 text-black">
                     <h2 class="fw-normal mb-3 pb-3 text-center "
                        style="letter-spacing: 1px; font-weight:bold; color:#305f0a;">Login</h2>
                        <form method="POST">
                        {% csrf_token %}
                      
                        <div class="form-outline mb-4">
                           <label class="form-label" for="form2Example17">username</label>
                           <input type="text" id="form2Example17" name="username" class="form-control form-control-lg" placeholder="ENTER USERNAME OR EMAIL"/>
                        </div>
                        <div class="form-outline mb-1">
                           <label class="form-label" for="form2Example27">Password</label>
                           <input type="password" id="form2Example27" name="password" class="form-control form-control-lg "  placeholder="ENTER PASSWORD"/>
                        </div>
                        <p style="color: #000000;"><a class="small text-muted" href="{% url 'reset_password' %}">Forgot password?</a></p>
                        <div class="d-flex justify-content-center mt-md-3">
                           <button class="btn btn-dark btn-lg w-50" type="submit">Login</button>
                        </div>
                        {% if error_message %}
                        <div class="d-flex justify-content-center"><p class="text-danger mt-2 fs-3">{{error_message}}</p></div>
                        {% endif %}
                        <p class="mb-1 mt-1 pb-lg-2 text-center" style="color: #0e2b7a;">Don't have an account? <a href="{% url 'users:register' %}" style="color: #0e2b7a;">Register here</a></p>
                        <hr>
                        <h6 class="text-center"> Or login with</h6>
                        <br>
                        <div class="pt-1 mb-4">
                           <a href="{% provider_login_url 'google' %}?next=/">
                           <button class="btn btn-dark btn-lg btn-block w-100" type="button">
                              <i class="fab fa-google"></i> Sign in with Google
                           </button>
                        </a>
                        </div>
                     </form>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </section>
   <script>
    document.addEventListener('DOMContentLoaded', function() {
        const registrationForm = document.querySelector('#registration-form');
        const submitButton = document.querySelector('#register-submit');
        const usernameField = document.querySelector('#uname');
        const emailField = document.querySelector('#email');
        const firstNameField = document.querySelector('#fname');
        const lastNameField = document.querySelector('#lname');
        const password1Field = document.querySelector('#pass');
        const password2Field = document.querySelector('#cpass');

        // Add event listeners for live validation
        usernameField.addEventListener('input', validateUsername);
        emailField.addEventListener('input', validateEmail);
        firstNameField.addEventListener('input', validateName);
        lastNameField.addEventListener('input', validateName);
        password1Field.addEventListener('input', validatePassword);
        password2Field.addEventListener('input', validatePasswordMatch);

        function validateUsername() {
            const usernameValue = usernameField.value.trim();
            if (!/^\d+$/.test(usernameValue)) {
                usernameField.classList.remove('invalid');
                usernameField.classList.add('valid');
            } else {
                usernameField.classList.remove('valid');
                usernameField.classList.add('invalid');
            }
            enableSubmitButton();
        }

        function validateEmail() {
            const emailValue = emailField.value.trim();
            const emailPattern = /^[^\s]+@[^\s]+\.[^\s]+$/;
            if (emailPattern.test(emailValue)) {
                emailField.classList.remove('invalid');
                emailField.classList.add('valid');
            } else {
                emailField.classList.remove('valid');
                emailField.classList.add('invalid');
            }
            enableSubmitButton();
        }

        function validateName() {
            const nameValue = this.value.trim();
            const namePattern = /^[^0-9\s]+$/;
            if (namePattern.test(nameValue)) {
                this.classList.remove('invalid');
                this.classList.add('valid');
            } else {
                this.classList.remove('valid');
                this.classList.add('invalid');
            }
            enableSubmitButton();
        }

        function validatePassword() {
            const passwordValue = password1Field.value;
            const isValidPassword = /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z\d]).{8,}$/.test(passwordValue);

            if (isValidPassword) {
                password1Field.classList.remove('invalid');
                password1Field.classList.add('valid');
            } else {
                password1Field.classList.remove('valid');
                password1Field.classList.add('invalid');
            }
            enableSubmitButton();
        }

        function validatePasswordMatch() {
            const passwordValue = password1Field.value;
            const confirmPasswordValue = password2Field.value;
            const passwordsMatch = passwordValue === confirmPasswordValue && passwordValue !== '';

            if (passwordsMatch) {
                password2Field.classList.remove('invalid');
                password2Field.classList.add('valid');
            } else {
                password2Field.classList.remove('valid');
                password2Field.classList.add('invalid');
            }
            enableSubmitButton();
        }

        function enableSubmitButton() {
            const allFieldsValid = [
                usernameField,
                emailField,
                firstNameField,
                lastNameField,
                password1Field,
                password2Field
            ].every(field => field.classList.contains('valid'));

            if (allFieldsValid) {
                submitButton.disabled = false;
            } else {
                submitButton.disabled = true;
            }
        }

        registrationForm.addEventListener('submit', function(event) {
            // ... existing form submission logic ...
        });
    });
</script>


</body>

</html>