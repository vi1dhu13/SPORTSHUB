{% load static %}
{% load socialaccount %}
<!DOCTYPE html>
<html>

<head>
   <meta charset="utf-8"> 
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <title></title>
   <meta name="description" content="">
   <meta name="viewport" content="width=device-width, initial-scale=1">
   <link rel="shortcut icon" href="{% static 'ftco-32x32.png' %}">

   <link href="https://fonts.googleapis.com/css?family=Muli:300,400,700,900" rel="stylesheet">
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha384-KyZXEAg3QhqLMpG8r+VAdr3k6cqGpPjXkbJHIuM/CJ5InAI6fDj4sD6k/KJmJiS" crossorigin="anonymous">
 
   <link rel="stylesheet" href="{% static 'fonts/icomoon/style.css' %}">

   <link rel="stylesheet" type="text/css" href="{% static 'assets/css/bootstrap.min.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'assets/css/font-awesome.css' %}">
    <link rel="stylesheet" href="{% static 'assets/css/templatemo-training-studio.css' %}">
 
 
   <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
   <link rel="stylesheet" href="{% static 'css/jquery-ui.css' %}">
   <link rel="stylesheet" href="{% static 'css/owl.carousel.min.css' %}">
   <link rel="stylesheet" href="{% static 'css/owl.theme.default.min.css' %}">
   <link rel="stylesheet" href="{% static 'css/owl.theme.default.min.css' %}">
 
   <link rel="stylesheet" href="{% static 'css/jquery.fancybox.min.css' %}">
 
   <link rel="stylesheet" href="{% static 'css/bootstrap-datepicker.css' %}">
 
   <link rel="stylesheet" href="{% static 'fonts/flaticon/font/flaticon.css' %}">
 
   <link rel="stylesheet" href="{% static 'css/aos.css' %}">
   <link href="{% static 'css/jquery.mb.YTPlayer.min.css' %}" media="all" rel="stylesheet" type="text/css">
 
   <link rel="stylesheet" href="{% static 'css/style.css' %}">
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
      crossorigin="anonymous"></script>

   <style>
      .soul-logo { 
         mix-blend-mode: color-burn;
      }

      .placform::placeholder {
         position: absolute;
         left: 10px;
      }


      label {
         font-weight: bold;
      }
      
   </style>

     
    
    
        
    <script>
      document.addEventListener('DOMContentLoaded', function() {
          const imagesInput = document.getElementById('images');
          const twonInput = document.getElementById('adress');
          const firstNameInput = document.getElementById('first-name');
          const lastNameInput = document.getElementById('last-name');
          const phoneInput = document.getElementById('phone');
          const form = document.getElementById('save');
  
          // Function to validate image files onchange
          function validateImageFiles() {
              const imagesInputValue = imagesInput.value.toLowerCase();
              const imagesError = document.getElementById('images-error');
              const allowedExtensions = ['.jpg', '.jpeg', '.png', '.gif']; // List of allowed image file extensions
  
              if (!imagesInputValue) {
                  imagesError.innerText = 'Please select an image.';
                  imagesInput.classList.remove('is-valid');
                  imagesInput.classList.add('is-invalid');
                  return false;
              }
  
              const fileExtension = imagesInputValue.slice(((imagesInputValue.lastIndexOf(".") - 1) >>> 0) + 2);
  
              if (!allowedExtensions.includes(.${fileExtension})) {
                  imagesInput.value = '';
                  imagesError.innerText = 'Invalid image format. Supported formats: JPG, JPEG, PNG, GIF.';
                  imagesInput.classList.remove('is-valid');
                  imagesInput.classList.add('is-invalid');
                  return false;
              }
  
              imagesError.innerText = ''; // Clear the error message
              imagesInput.classList.remove('is-invalid');
              imagesInput.classList.add('is-valid');
              return true;
          }
  
          // Function to validate country onkeyup
        
  
              function validateTwon() {
                const twonInputValue = twonInput.value.trim(); // Get the city value
                const twonError = document.getElementById('twon-error');
            
                // Regular expression to allow alphabetic characters and spaces
                const alphaRegex = /^[A-Za-z\s]+$/;
            
                if (!twonInputValue) {
                    twonError.innerText = 'Please enter a city.';
                    return false;
                } else if (!alphaRegex.test(twonInputValue)) {
                  twonError.innerText = 'City name should contain only alphabetic characters and spaces.';
                    return false;
                } else {
                  twonError.innerText = ''; // Clear the error message
                    return true;
                }
            }
  
  function validateFirstName() {
              const firstNameInputValue = firstNameInput.value.trim(); // Get the first name value
              const firstNameError = document.getElementById('first-name-error');
          
              const alphaRegex = /^[A-Za-z]+$/;
          
              if (!firstNameInputValue) {
                  firstNameError.innerText = 'Please enter your first name.';
                  return false;
              } else if (!alphaRegex.test(firstNameInputValue)) {
                  firstNameError.innerText = 'First name should contain only alphabetic characters.';
                  return false;
              } else {
                  firstNameError.innerText = '';
                  return true; // Clear the error message
              }
          }
          
          // Function to validate last name
          function validateLastName() {
              const lastNameInputValue = lastNameInput.value.trim(); // Get the last name value
              const lastNameError = document.getElementById('last-name-error');
          
              const alphaRegex = /^[A-Za-z]+$/;
          
              if (!lastNameInputValue) {
                  lastNameError.innerText = 'Please enter your last name.';
                  return false;
              } else if (!alphaRegex.test(lastNameInputValue)) {
                  lastNameError.innerText = 'Last name should contain only alphabetic characters.';
                  return false;
              } else {
                  lastNameError.innerText = '';
                  return true; // Clear the error message
              }
          }
  
          function validatePhone() {
            const phoneInputValue = document.getElementById('phone').value.trim();
            const phoneError = document.getElementById('phone-error');
        
            // Phone number validation regex (example for 10-digit numbers)
            const phoneRegex = /^\d{10}$/;
        
            if (!phoneInputValue) {
                phoneError.innerText = 'Please enter a phone number.';
                return false;
            } else if (!phoneRegex.test(phoneInputValue)) {
                phoneError.innerText = 'Invalid phone number. It should be a 10-digit number.';
                return false;
            } else {
                phoneError.innerText = '';
                return true; // Clear the error message
            }
        }
    
            // Add event listeners to the form elements
            imagesInput.addEventListener('change', validateImageFiles);
            firstNameInput.addEventListener('keyup', validateFirstName);
            lastNameInput.addEventListener('keyup', validateLastName);
            twonInput.addEventListener('keyup', validateTwon);
            phoneInput.addEventListener('input', validatePhone);
        });
  
  </script>
    
</head>

<body>



<header class="header-area header-sticky"  style="background:  #000000;">
  <div class="container">
      <div class="row">
          <div class="col-12">
              <nav class="main-nav">
       
                  <a href="index.html" class="logo">Sports<em>Hup</em></a>

                  <ul class="nav">
                    <li class="scroll-to-section"><a href="{% url 'index' %}" class="active">Home</a></li>
                    <!-- <li class="scroll-to-section"><a href="{% url 'Training:render_my_template' %}">Capture Video</a></li> -->
                 
                    
                    <!-- <button class="btn" id="pay-btn">Donate</button> -->
                    <!-- Conditional Navigation Items -->
                    {% if user.is_authenticated %}
                    {% if user.role == 'FitnessUser' %}
                    <li  class="scroll-to-section"><a href="{% url 'Members:fitness_user_dashboard' %}">Dashboard</a></li>
                    <li class="scroll-to-section"><a href="{% url 'sports_center_list' %}" >Services</a></li>
                    {% elif user.role == 'FitnessTrainer' %}
                    <li  class="scroll-to-section"><a href="{% url 'Members:fitness_trainer_dashboard' %}" >Dashboard</a></li>
                    <li class="scroll-to-section"><a href="{% url 'sports_center_list' %}" >Services</a></li>
                    {% elif user.role == 'SportsTrainer' %}
                    <li  class="scroll-to-section"><a href="{% url 'Members:sports_user_dashboard' %}" >Dashboard</a></li>
                    <li class="scroll-to-section"><a href="{% url 'sports_center_list' %}" >Services</a></li>
                    {% elif user.is_superuser %}
                    <li  class="scroll-to-section"><a href="{% url 'Members:admin_dashboard' %}">Dashboard</a></li>
                    <li class="scroll-to-section"><a href="{% url 'sports_center_list' %}" >Services</a></li>
                    {% else %}
                    <li  class="scroll-to-section"><a href="{% url 'users:role_application' %}" >Apply for a Role</a></li>
                    <li class="scroll-to-section"><a href="{% url 'sports_center_list' %}" >Services</a></li>
                    {% endif %}
                    <li  class="scroll-to-section"><a href="{% url 'users:profile' %}" >My Profile</a></li>
                    <li  class="scroll-to-section"><a href="{% url 'users:logout' %}" >Logout</a></li>
                    {% else %}
                    
                   
                    <li class="scroll-to-section"><a href="{% url 'sports_center_list' %}" >Services</a></li>
                   
                    <li class="scroll-to-section"><a href="{% url 'users:login' %}" >Login</a></li>
                    
                    <li class="scroll-to-section"><a href="{% url 'users:register' %}" style="color: #ffffff;" >Register here</a></li>
                   
                    {% endif %}
                   
                   
                </ul>       
                  <a class='menu-trigger'>
                      <span>Menu</span>
                  </a>
                  <!-- ***** Menu End ***** -->
              </nav>
          </div>
      </div>
  </div>
</header>

    <!-- Content Block -->
    
        
    {% block content %}
    <div class="container" style="margin-top: 70px;">
        <h2 class="mt-4">Edit Profile</h2>
        <Br>
            
        <form method="post" enctype="multipart/form-data" class="mt-3">
            {% csrf_token %}
            <div class="row">
                <div class="col-md-6">
                    <!-- Basic Information Card -->
                    <h4 class="card-title text-white">Basic Information</h4>
                    <div class="card mb-3">
                        <div class="card-body" >
                            
                            {{ user_form.as_p }}
                        </div>
                        <button type="submit" id="save" class="btn btn-primary mt-3">Save Changes</button>
                    </div>
                    
                </div>
                
                <div class="col-md-6">
                    <!-- Additional Details Card -->
                    <h4 class="card-title text-white">Additional Data</h4>
                    <div class="card mb-3">
                        <div class="card-body" >
                          {% if user.profile_picture  %}
                                                           <center>     <img class="rounded-circle" src="{{ user.profile_picture.url }}" alt="Profile Picture" style="width: 200px; height: 200px;" />
                                                                
                                                            {% else %}
                                                                <div class="rounded-circle no-file-message">
                                                                    <img class="rounded-circle" src="{% static 'assets/img/pro_pic.png' %}" alt="Profile Picture" style="width: 200px; height: 200px;" />
                                                                </div>
                                                                
                                                            {% endif %}
                                                            <h4 class="card-title text-white"> {{ user.username}}</h4></center>
                            
                           
                            {% if user.role == "FitnessUser" %}
                            <h4 class="card-title text-white">Fitness User Details</h4>
                            {{ role_form.as_p }}
                            {{ role_form.errors }}
                            {% endif %}
                            
                            {% if user.role == "FitnessTrainer" %}
                            <h4 class="card-title text-white">Fitness Trainer Details</h4>
                            {{ role_form.as_p }}
                            {{ role_form.errors }}
                            {% endif %}
    
                            {% if user.role == "SportsTrainer" %}
                            <h4 class="card-title text-white">Sports Trainer Details</h4>
                            {{ role_form.as_p }}
                            {{ role_form.errors }}
                            {% endif %}
                            {% if role_title %}
                            
                            <h4 class="font-weight-bold">{{ role_title }}</h4>
                                {{ role_form.as_p }}
                                {{ role_form.errors }}
                            </div>
                            {% endif %}

                        </div>
                    </div>
                </div>
            </div>
    
            
        </form>
    </div>
    {% endblock %}
    
    
    


    <!-- Bootstrap and JavaScript links (unchanged) -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.3/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>


  


</body>
</html>


